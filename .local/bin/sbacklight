#!/bin/sh

## Change the backlight value
## You need write privileges on /sys/.../brightness
## This can be achieved via a `udev` rule (see ~/.config/root)

current=$(cat /sys/class/backlight/intel_backlight/brightness)
max=$(cat /sys/class/backlight/intel_backlight/max_brightness)
step=$(expr $max / 20)

[ "$1" = "dec" ] && new=$(expr $current - $step)
[ "$1" = "inc" ] && new=$(expr $current + $step)
[ "$1" = "set" ] && new=$(expr $2 \* $step)

[ $new -gt 850 ] && new=850
[ $new -lt 0 ] && new=0

echo $new > /sys/class/backlight/intel_backlight/brightness
